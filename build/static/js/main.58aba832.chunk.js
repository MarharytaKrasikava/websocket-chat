(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(56)},48:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),c=(a(48),a(24)),l=a(29),u=a(23),s=a(30),m=[],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return[].concat(Object(s.a)(e),[t.message]);default:return e}},g={sortBy:"date",user:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(c.a)({},e,{user:t.user});case"SORT_BY_DATE":return Object(c.a)({},e,{sortBy:"date"});default:return e}},f=a(33),b=a(90),p=a(91),h=a(86),w=(a(54),Object(h.a)(function(e){return{textField:{margin:e.spacing(1,3),backgroundColor:"white"},button:{margin:e.spacing(1,3),backgroundColor:"#c2185b"}}}));function E(e){var t=e.socket,a=w(),n=r.a.useState({value:""}),o=Object(f.a)(n,2),i=o[0],c=o[1],l=r.a.useState({value:""}),u=Object(f.a)(l,2),s=u[0],m=u[1];return r.a.createElement("form",{name:"message",onSubmit:function(e){var a=s.value?s.value:localStorage.getItem("currentNick"),n=JSON.stringify({from:a,message:i.value});a&&t.send(n),c({value:""}),e.preventDefault()}},r.a.createElement(b.a,{id:"outlined-name",label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435:",className:a.textField,value:i.value,onChange:function(e){c({value:e.target.value})},margin:"normal",variant:"outlined",style:{width:"40vw"}}),r.a.createElement(b.a,{id:"outlined-name",label:"\u0418\u043c\u044f:",className:a.textField,value:s.value,onChange:function(e){m({value:e.target.value}),localStorage.setItem("currentNick",e.target.value)},margin:"normal",variant:"outlined"}),r.a.createElement(p.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))}var S=function(e,t){var a=t.user,n=t.sortBy;return e.filter(function(e){return e.from.toLowerCase().includes(a.toLowerCase())}).sort(function(e,t){return"date"!==n||(e.time>t.time?1:-1)})},k=a(88),O=a(89),y=Object(h.a)(function(e){return{container:{height:"90vh",overflowY:"scroll",overflowX:"hidden",margin:"0 auto",overflowWrap:"break-word",backgroundColor:"white"},root:{width:"60%",padding:e.spacing(3,2),margin:e.spacing(3,2),color:"white",textAlign:"right"}}});var j=Object(l.b)(function(e){return{messages:S(e.messages,e.filters)}})(function(e){var t=y();return r.a.createElement("div",{className:t.container},e.messages.map(function(e){return r.a.createElement(k.a,{key:e.id,className:t.root,style:localStorage.getItem("currentNick")&&localStorage.getItem("currentNick")===e.from?{float:"left",background:"linear-gradient(145deg, #f48fb1, #ad1457)"}:{float:"right",background:"linear-gradient(145deg, #80deea, #00bcd4)"},elevation:5},r.a.createElement(O.a,{variant:"h6",component:"p"},e.message),r.a.createElement(O.a,{variant:"subtitle2",component:"p"},"FROM: ",e.from,", ",new Date(e.time).toTimeString()))}))}),N=a(39),D=a.n(N),A=(a(55),Object(u.c)(Object(u.b)({messages:d,filters:v}))),C=new D.a("wss://wssproxy.herokuapp.com/",null,{debug:!1,reconnectInterval:3e3});C.onmessage=function(e){JSON.parse(e.data).slice(0,100).forEach(function(e){A.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.time,a=void 0===t?"":t,n=e.id,r=void 0===n?"":n,o=e.from,i=void 0===o?"":o,c=e.message;return{type:"ADD_MESSAGE",message:{from:i,message:void 0===c?"":c,id:r,time:a}}}(Object(c.a)({},e)))}),A.dispatch({type:"SORT_BY_DATE"})};var _=function(){return r.a.createElement(l.a,{store:A},r.a.createElement(j,{socket:C}),r.a.createElement(E,{socket:C}))};i.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.58aba832.chunk.js.map